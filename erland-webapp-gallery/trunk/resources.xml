<?xml version="1.0" encoding="ISO-8859-1"?>
<resources>
    <commands>
        <command id="default">
            <class>erland.webapp.common.DefaultCommand</class>
        </command>
        <command id="home">
            <class>erland.webapp.usermgmt.LoginStatusCommand</class>
        </command>
        <command id="login">
            <class>erland.webapp.usermgmt.LoginCommand</class>
        </command>
        <command id="logout">
            <class>erland.webapp.usermgmt.LogoutCommand</class>
        </command>
        <command id="searchofficialuseraccounts">
            <class>erland.webapp.gallery.account.SearchOfficialUserAccountsCommand</class>
        </command>
        <command id="searchuseraccounts">
            <class>erland.webapp.gallery.account.SearchUserAccountsCommand</class>
            <role>manager</role>
        </command>
        <command id="viewuseraccount">
            <class>erland.webapp.gallery.account.ViewUserAccountCommand</class>
            <role>user</role>
        </command>
        <command id="edituseraccount">
            <class>erland.webapp.gallery.account.EditUserAccountCommand</class>
            <role>user</role>
        </command>
        <command id="removeuseraccount">
            <class>erland.webapp.gallery.account.RemoveUserAccountCommand</class>
            <role>manager</role>
        </command>
        <command id="viewwelcometext">
            <class>erland.webapp.gallery.account.ViewUserAccountCommand</class>
        </command>
        <command id="newuseraccount">
            <class>erland.webapp.gallery.account.NewUserAccountCommand</class>
        </command>
        <command id="registernewuseraccount">
            <class>erland.webapp.common.NoneCommand</class>
        </command>
        <command id="editgallery">
            <class>erland.webapp.gallery.gallery.EditGalleryCommand</class>
            <role>user</role>
        </command>
        <command id="newgallery">
            <class>erland.webapp.gallery.gallery.ViewGalleryCommand</class>
            <role>user</role>
        </command>
        <command id="removegallery">
            <class>erland.webapp.gallery.gallery.RemoveGalleryCommand</class>
            <role>user</role>
        </command>
        <command id="editpicture">
            <class>erland.webapp.gallery.gallery.picture.EditPictureCommand</class>
            <role>user</role>
        </command>
        <command id="newpicture">
            <class>erland.webapp.gallery.gallery.picture.ViewPictureCommand</class>
            <role>user</role>
        </command>
        <command id="removepicture">
            <class>erland.webapp.gallery.gallery.picture.RemovePictureCommand</class>
            <role>user</role>
        </command>
        <command id="searchgalleries">
            <class>erland.webapp.gallery.gallery.SearchGalleriesCommand</class>
            <role>user</role>
            <save type="session">menugalleries</save>
        </command>
        <command id="searchgalleriesviewdefaultgallery">
            <class>erland.webapp.gallery.gallery.SearchGalleriesCommand</class>
            <role>user</role>
            <save type="session">menugalleries</save>
        </command>
        <command id="searchgalleriesguest">
            <class>erland.webapp.gallery.gallery.SearchOfficialGalleriesCommand</class>
            <save type="session">menugalleries</save>
        </command>
        <command id="searchgalleriesguestviewdefaultgallery">
            <class>erland.webapp.gallery.gallery.SearchOfficialGalleriesCommand</class>
            <save type="session">menugalleries</save>
        </command>
        <command id="editcategory">
            <class>erland.webapp.gallery.gallery.category.EditCategoryCommand</class>
            <role>user</role>
        </command>
        <command id="updatecategory">
            <class>erland.webapp.gallery.gallery.category.ViewCategoryCommand</class>
            <role>user</role>
        </command>
        <command id="newsearchgalleryentriesadvanced">
            <class>erland.webapp.gallery.gallery.category.SearchAllCategoriesCommand</class>
            <role>user</role>
        </command>
        <command id="newsearchgalleryentriesadvancedguest">
            <class>erland.webapp.gallery.gallery.category.SearchOfficialAllCategoriesCommand</class>
        </command>
        <command id="searchgalleryentriesadvanced">
            <class>erland.webapp.gallery.gallery.picture.AdvancedSearchPicturesCommand</class>
            <role>user</role>
            <save type="request">prevnext</save>
            <saveparameters type="request">cmdparameters</saveparameters>
        </command>
        <command id="searchgalleryentriesadvancedguest">
            <class>erland.webapp.gallery.gallery.picture.AdvancedSearchOfficialPicturesCommand</class>
            <save type="request">prevnext</save>
            <saveparameters type="request">cmdparameters</saveparameters>
        </command>
        <command id="searchgalleryentriesadvancedviewpicture">
            <class>erland.webapp.gallery.gallery.picture.AdvancedSearchPicturesCommand</class>
            <role>user</role>
            <save type="request">prevnext</save>
            <saveparameters type="request">cmdparameters</saveparameters>
        </command>
        <command id="searchgalleryentriesadvancedguestviewpicture">
            <class>erland.webapp.gallery.gallery.picture.AdvancedSearchOfficialPicturesCommand</class>
            <save type="request">prevnext</save>
            <saveparameters type="request">cmdparameters</saveparameters>
        </command>
        <command id="searchcategories">
            <class>erland.webapp.gallery.gallery.category.SearchCategoriesCommand</class>
            <role>user</role>
            <save type="session">menucategories{indent}</save>
        </command>
        <command id="searchcategoriesguest">
            <class>erland.webapp.gallery.gallery.category.SearchOfficialCategoriesCommand</class>
            <save type="session">menucategories{indent}</save>
        </command>
        <command id="searchgalleryentries">
            <class>erland.webapp.gallery.gallery.picture.SearchPicturesCommand</class>
            <role>user</role>
            <save type="request">prevnext</save>
            <saveparameters type="request">cmdparameters</saveparameters>
        </command>
        <command id="searchgalleryentriesguest">
            <class>erland.webapp.gallery.gallery.picture.SearchOfficialPicturesCommand</class>
            <save type="request">prevnext</save>
            <saveparameters type="request">cmdparameters</saveparameters>
        </command>
        <command id="searchgalleryentriesviewpicture">
            <class>erland.webapp.gallery.gallery.picture.SearchPicturesCommand</class>
            <role>user</role>
            <save type="request">prevnext</save>
            <saveparameters type="request">cmdparameters</saveparameters>
        </command>
        <command id="searchgalleryentriesguestviewpicture">
            <class>erland.webapp.gallery.gallery.picture.SearchOfficialPicturesCommand</class>
            <save type="request">prevnext</save>
            <saveparameters type="request">cmdparameters</saveparameters>
        </command>
        <command id="chooseimport">
            <class>erland.webapp.common.NoneCommand</class>
            <role>user</role>
        </command>
        <command id="importgallery">
            <class>erland.webapp.gallery.gallery.importers.IMatchImportCommand</class>
            <role>user</role>
        </command>
        <command id="searchstorages">
            <class>erland.webapp.gallery.gallery.picturestorage.SearchPictureStoragesCommand</class>
            <role>user</role>
        </command>
        <command id="editstorage">
            <class>erland.webapp.gallery.gallery.picturestorage.EditPictureStorageCommand</class>
            <role>user</role>
        </command>
        <command id="newstorage">
            <class>erland.webapp.gallery.gallery.picturestorage.ViewPictureStorageCommand</class>
            <role>user</role>
        </command>
        <command id="removestorage">
            <class>erland.webapp.gallery.gallery.picturestorage.RemovePictureStorageCommand</class>
            <role>user</role>
        </command>
        <command id="viewpicture">
            <class>erland.webapp.gallery.loader.LoadMetadataCommand</class>
        </command>
        <command id="loadthumbnail">
            <class>erland.webapp.gallery.loader.LoadThumbnailCommand</class>
        </command>
        <command id="loadimage">
            <class>erland.webapp.gallery.loader.LoadImageCommand</class>
        </command>
        <command id="viewdefaultgalleryguest">
            <class>erland.webapp.gallery.account.ViewUserAccountCommand</class>
        </command>
        <command id="viewdefaultgallery">
            <class>erland.webapp.gallery.account.ViewUserAccountCommand</class>
            <role>user</role>
        </command>
        <command id="newguestaccount">
            <class>erland.webapp.common.NoneCommand</class>
            <role>user</role>
        </command>
        <command id="editguestaccount">
            <class>erland.webapp.gallery.guestaccount.AddGuestAccountCommand</class>
            <role>user</role>
        </command>
        <command id="removeguestaccount">
            <class>erland.webapp.gallery.guestaccount.RemoveGuestAccountCommand</class>
            <role>user</role>
        </command>
        <command id="searchguestaccounts">
            <class>erland.webapp.gallery.guestaccount.SearchGuestAccountsCommand</class>
            <role>user</role>
        </command>
        <command id="loginasguest">
            <class>erland.webapp.common.NoneCommand</class>
        </command>
        <command id="loginguest">
            <class>erland.webapp.usermgmt.LoginCommand</class>
            <options>
                <option id="userattribute">guestuser</option>
            </options>
        </command>
        <command id="logoutguest">
            <class>erland.webapp.usermgmt.LogoutCommand</class>
            <options>
                <option id="userattribute">guestuser</option>
                <option id="invalidatesession">false</option>
            </options>
        </command>
    </commands>
    <entities>
        <entity id="user">
            <class>erland.webapp.usermgmt.User</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/users</datasource>
                <table>users</table>
                <fields>
                    <field id="username">
                        <column>username</column>
                        <type>String</type>
                        <identity>true</identity>
                    </field>
                    <field id="firstName">
                        <column>firstname</column>
                        <type>String</type>
                    </field>
                    <field id="lastName">
                        <column>lastname</column>
                        <type>String</type>
                    </field>
                    <field id="password">
                        <column>password</column>
                        <type>String</type>
                    </field>
                </fields>
            </data>
        </entity>
        <entity id="userapplicationrole">
            <class>erland.webapp.usermgmt.UserApplicationRole</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/users</datasource>
                <table>userapplicationroles</table>
                <fields>
                    <field id="username">
                        <column>username</column>
                        <type>String</type>
                        <identity>true</identity>
                    </field>
                    <field id="application">
                        <column>application</column>
                        <type>String</type>
                        <identity>true</identity>
                    </field>
                    <field id="role">
                        <column>role</column>
                        <type>String</type>
                        <identity>true</identity>
                    </field>
                </fields>
                <queries>
                    <query id="allforuserandapplication">
                        <querystring>username=? and application=?</querystring>
                        <fields>
                            <field id="1">
                                <field>username</field>
                                <type>String</type>
                            </field>
                            <field id="2">
                                <field>application</field>
                                <type>String</type>
                            </field>
                        </fields>
                    </query>
                </queries>
            </data>
        </entity>
        <entity id="userinfo">
            <class>erland.webapp.usermgmt.User</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/users</datasource>
                <table>users</table>
                <fields>
                    <field id="username">
                        <column>username</column>
                        <type>String</type>
                        <identity>true</identity>
                    </field>
                    <field id="firstName">
                        <column>firstname</column>
                        <type>String</type>
                    </field>
                    <field id="lastName">
                        <column>lastname</column>
                        <type>String</type>
                    </field>
                </fields>
            </data>
        </entity>
        <entity id="useraccount">
            <class>erland.webapp.gallery.account.UserAccount</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/gallery</datasource>
                <table>useraccounts</table>
                <fields>
                    <field id="username">
                        <column>username</column>
                        <type>String</type>
                        <identity>true</identity>
                    </field>
                    <field id="welcomeText">
                        <column>welcometext</column>
                        <type>String</type>
                    </field>
                    <field id="description">
                        <column>description</column>
                        <type>String</type>
                    </field>
                    <field id="logo">
                        <column>logo</column>
                        <type>String</type>
                    </field>
                    <field id="defaultGallery">
                        <column>defaultGallery</column>
                        <type>Integer</type>
                    </field>
                    <field id="official">
                        <column>official</column>
                        <type>Boolean</type>
                    </field>
                    <field id="copyrightText">
                        <column>copyright</column>
                        <type>String</type>
                    </field>
                </fields>
                <queries>
                    <query id="all">
                        <querystring/>
                    </query>
                    <query id="allofficial">
                        <querystring>official=1</querystring>
                    </query>
                </queries>
            </data>
        </entity>
        <entity id="guestaccount">
            <class>erland.webapp.gallery.guestaccount.GuestAccount</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/gallery</datasource>
                <table>userguests</table>
                <fields>
                    <field id="username">
                        <column>username</column>
                        <type>String</type>
                        <identity>true</identity>
                    </field>
                    <field id="guestUser">
                        <column>guestuser</column>
                        <type>String</type>
                        <identity>true</identity>
                    </field>
                </fields>
                <queries>
                    <query id="allforuser">
                        <querystring>username=?</querystring>
                        <fields>
                            <field id="1">
                                <field>username</field>
                                <type>String</type>
                            </field>
                        </fields>
                    </query>
                </queries>
            </data>
        </entity>
        <entity id="gallery">
            <class>erland.webapp.gallery.gallery.Gallery</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/gallery</datasource>
                <table>galleries</table>
                <fields>
                    <field id="id">
                        <column>id</column>
                        <type>Integer</type>
                        <identity>true</identity>
                        <auto>true</auto>
                    </field>
                    <field id="username">
                        <column>username</column>
                        <type>String</type>
                    </field>
                    <field id="title">
                        <column>title</column>
                        <type>String</type>
                    </field>
                    <field id="description">
                        <column>description</column>
                        <type>String</type>
                    </field>
                    <field id="topCategory">
                        <column>topcategory</column>
                        <type>Integer</type>
                    </field>
                    <field id="official">
                        <column>official</column>
                        <type>Boolean</type>
                    </field>
                    <field id="referencedGallery">
                        <column>referencedgallery</column>
                        <type>Integer</type>
                    </field>
                </fields>
                <queries>
                    <query id="allforuser">
                        <querystring>username=?</querystring>
                        <fields>
                            <field id="1">
                                <field>username</field>
                                <type>String</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforuser">
                        <querystring>username=? and official=1</querystring>
                        <fields>
                            <field id="1">
                                <field>username</field>
                                <type>String</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allrealforuser">
                        <querystring>username=? and referencedgallery=0</querystring>
                        <fields>
                            <field id="1">
                                <field>username</field>
                                <type>String</type>
                            </field>
                        </fields>
                    </query>
                </queries>
            </data>
        </entity>
        <entity id="gallerycategoryassociation">
            <class>erland.webapp.gallery.gallery.GalleryCategoryAssociation</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/gallery</datasource>
                <table>gallerycategories</table>
                <fields>
                    <field id="gallery">
                        <column>gallery</column>
                        <type>Integer</type>
                        <identity>true</identity>
                    </field>
                    <field id="category">
                        <column>category</column>
                        <type>Integer</type>
                        <identity>true</identity>
                    </field>
                </fields>
                <queries>
                    <query id="allforgallery">
                        <querystring>gallery=?</querystring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                </queries>
            </data>
        </entity>
        <entity id="picture">
            <class>erland.webapp.gallery.gallery.picture.Picture</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/gallery</datasource>
                <table>pictures</table>
                <fields>
                    <field id="id">
                        <column>id</column>
                        <type>Integer</type>
                        <identity>true</identity>
                        <auto>true</auto>
                    </field>
                    <field id="gallery">
                        <column>gallery</column>
                        <type>Integer</type>
                        <identity>true</identity>
                    </field>
                    <field id="title">
                        <column>title</column>
                        <type>String</type>
                    </field>
                    <field id="date">
                        <column>date</column>
                        <type>Date</type>
                    </field>
                    <field id="description">
                        <column>description</column>
                        <type>String</type>
                    </field>
                    <field id="image">
                        <column>image</column>
                        <type>String</type>
                    </field>
                    <field id="link">
                        <column>link</column>
                        <type>String</type>
                    </field>
                    <field id="official">
                        <column>official</column>
                        <type>Boolean</type>
                    </field>
                </fields>
                <queries>
                    <query id="allforgallery">
                        <querystring>gallery=?</querystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandpicturelist">
                        <querystring>gallery=? and id in ({2})</querystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgallerywithlimit">
                        <querystring>gallery=?</querystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandpicturelistwithlimit">
                        <querystring>gallery=? and id in ({2})</querystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="4">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgallerybetweendates">
                        <querystring>gallery=? and date between ? and ?</querystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgallerybetweendateswithlimit">
                        <querystring>gallery=? and date between ? and ?</querystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgallerybetweendatesandpicturelist">
                        <querystring>gallery=? and date between ? and ? and id in ({4})</querystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgallerybetweendatesandpicturelistwithlimit">
                        <querystring>gallery=? and date between ? and ?</querystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistwithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and picturecategories.category in ({2})</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="4">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylist">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and picturecategories.category in ({2})</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistandpicturelistwithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and picturecategories.category in ({2}) and pictures.id in ({3})</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="4">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylist">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and picturecategories.category in ({2}) and pictures.id in ({3})</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistbetweendateswithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4})</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistbetweendates">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4})</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistbetweendatesandpicturelistwithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) and pictures.id in ({5})</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="7">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistbetweendatesandpicturelist">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) and pictures.id in ({5})</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistallrequiredbetweendateswithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) group by pictures.id having count(pictures.id)=?</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>numberofcategories</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="7">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistallrequiredbetweendates">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) group by pictures.id having count(pictures.id)=?</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>numberofcategories</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistallrequired">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and picturecategories.category in ({2}) group by pictures.id having count(pictures.id)=?</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>numberofcategories</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistallrequiredbetweendatesandpicturelistwithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) and pictures.id in ({5}) group by pictures.id having count(pictures.id)=?</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>numberofcategories</field>
                                <type>Integer</type>
                            </field>
                            <field id="7">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="8">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylistallrequiredbetweendatesandpicturelist">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) and pictures.id in ({5}) group by pictures.id having count(pictures.id)=?</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>numberofcategories</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistwithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and picturecategories.category in ({2})</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="4">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylist">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and picturecategories.category in ({2})</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistandpicturelistwithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and picturecategories.category in ({2}) and pictures.id in ({3})</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="4">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistandpicturelist">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and picturecategories.category in ({2}) and pictures.id in ({3})</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistbetweendateswithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4})</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistbetweendates">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4})</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistbetweendatesandpicturelistwithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) and pictures.id in ({5})</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="7">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistbetweendatesandpicturelist">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) and pictures.id in ({5})</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistallrequiredbetweendateswithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) group by pictures.id having count(pictures.id)=?</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>numberofcategories</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="7">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistallrequiredbetweendates">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) group by pictures.id having count(pictures.id)=?</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>numberofcategories</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistallrequiredbetweendatesandpicturelistwithlimit">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) and pictures.id in ({5}) group by pictures.id having count(pictures.id)=?</completequerystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>numberofcategories</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="7">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandcategorylistallrequiredbetweendatesandpicturelist">
                        <completequerystring>select distinct pictures.* from pictures,picturecategories where pictures.official=1 and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and pictures.gallery=? and date between ? and ? and picturecategories.category in ({4}) and pictures.id in ({5}) group by pictures.id having count(pictures.id)=?</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>numberofcategories</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgallery">
                        <querystring>gallery=? and official=1</querystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandpicturelist">
                        <querystring>gallery=? and official=1 and id in ({2})</querystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgallerybetweendates">
                        <querystring>gallery=? and pictures.date between ? and ? and official=1</querystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgallerybetweendatesandpicturelist">
                        <querystring>gallery=? and pictures.date between ? and ? and official=1 and id in ({4})</querystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryandpicturelistwithlimit">
                        <querystring>gallery=? and official=1 and id in ({2})</querystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="4">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgallerybetweendateswithlimit">
                        <querystring>gallery=? and official=1 and date between ? and ?</querystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgallerybetweendatesandpicturelistwithlimit">
                        <querystring>gallery=? and official=1 and date between ? and ? and id in ({4})</querystring>
                        <orderstring>order by date desc,id desc limit ?,?</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>dateafter</field>
                                <type>Date</type>
                            </field>
                            <field id="3">
                                <field>datebefore</field>
                                <type>Date</type>
                            </field>
                            <field id="4">
                                <field>pictures</field>
                                <type>Integer</type>
                            </field>
                            <field id="5">
                                <field>start</field>
                                <type>Integer</type>
                            </field>
                            <field id="6">
                                <field>max</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="calculateofficialforgallery">
                        <completequerystring>select pictures.* from pictures,picturecategories,categories where pictures.gallery=? and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and picturecategories.gallery=categories.gallery and picturecategories.category=categories.id group by pictures.id having min(categories.official)=1 or max(categories.officialalways)=1</completequerystring>
                        <orderstring>order by date desc,id desc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="calculateunofficialforgallery">
                        <completequerystring>select pictures.* from pictures,picturecategories,categories where pictures.gallery=? and pictures.gallery=picturecategories.gallery and pictures.id=picturecategories.picture and picturecategories.gallery=categories.gallery and picturecategories.category=categories.id group by pictures.id having min(categories.official)=0 and max(categories.officialalways)=0</completequerystring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                </queries>
            </data>
        </entity>
        <entity id="picturestorage">
            <class>erland.webapp.gallery.gallery.picturestorage.PictureStorage</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/gallery</datasource>
                <table>picturestorages</table>
                <fields>
                    <field id="id">
                        <column>id</column>
                        <type>Integer</type>
                        <identity>true</identity>
                        <auto>true</auto>
                    </field>
                    <field id="username">
                        <column>username</column>
                        <type>String</type>
                    </field>
                    <field id="name">
                        <column>name</column>
                        <type>String</type>
                    </field>
                    <field id="path">
                        <column>path</column>
                        <type>String</type>
                    </field>
                </fields>
                <queries>
                    <query id="allforuser">
                        <querystring>username=?</querystring>
                        <fields>
                            <field id="1">
                                <field>username</field>
                                <type>String</type>
                            </field>
                        </fields>
                    </query>
                </queries>
            </data>
        </entity>
        <entity id="category">
            <class>erland.webapp.gallery.gallery.category.Category</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/gallery</datasource>
                <table>categories</table>
                <fields>
                    <field id="category">
                        <column>id</column>
                        <type>Integer</type>
                        <identity>true</identity>
                        <auto>true</auto>
                    </field>
                    <field id="gallery">
                        <column>gallery</column>
                        <type>Integer</type>
                        <identity>true</identity>
                    </field>
                    <field id="name">
                        <column>name</column>
                        <type>String</type>
                    </field>
                    <field id="official">
                        <column>official</column>
                        <type>Boolean</type>
                    </field>
                    <field id="officialAlways">
                        <column>officialalways</column>
                        <type>Boolean</type>
                    </field>
                    <field id="officialVisible">
                        <column>officialvisible</column>
                        <type>Boolean</type>
                    </field>
                    <field id="parentCategory">
                        <column>parent</column>
                        <type>Integer</type>
                    </field>
                </fields>
                <queries>
                    <query id="allforgallery">
                        <querystring>gallery=?</querystring>
                        <orderstring>order by parent asc,id asc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgallery">
                        <querystring>gallery=? and officialvisible=1</querystring>
                        <orderstring>order by parent asc,id asc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryorderedbyname">
                        <querystring>gallery=?</querystring>
                        <orderstring>order by name asc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgalleryorderedbyname">
                        <querystring>gallery=? and officialvisible=1</querystring>
                        <orderstring>order by name asc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgallerywithoutparent">
                        <querystring>gallery=? and parent=0</querystring>
                        <orderstring>order by name asc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgallerywithparent">
                        <querystring>gallery=? and parent=?</querystring>
                        <orderstring>order by name asc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>parent</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgallerywithoutparent">
                        <querystring>gallery=? and parent=0 and officialvisible=1</querystring>
                        <orderstring>order by name asc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allofficialforgallerywithparent">
                        <querystring>gallery=? and parent=? and officialvisible=1</querystring>
                        <orderstring>order by name asc</orderstring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>parent</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorytree">
                        <completequerystring>select categories.* from categorymembers,categories where categorymembers.gallery=? and categorymembers.gallery=categories.gallery and categorymembers.member=categories.id and categorymembers.category=? union select * from categories where gallery=? and id=?</completequerystring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>category</field>
                                <type>Integer</type>
                            </field>
                            <field id="3">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="4">
                                <field>category</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandcategorylist">
                        <querystring>gallery=? and id in ({2})</querystring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>categories</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                </queries>
            </data>
        </entity>
        <entity id="categorypictureassociation">
            <class>erland.webapp.gallery.gallery.category.CategoryPictureAssociation</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/gallery</datasource>
                <table>picturecategories</table>
                <fields>
                    <field id="category">
                        <column>category</column>
                        <type>Integer</type>
                        <identity>true</identity>
                    </field>
                    <field id="gallery">
                        <column>gallery</column>
                        <type>Integer</type>
                        <identity>true</identity>
                    </field>
                    <field id="picture">
                        <column>picture</column>
                        <type>Integer</type>
                        <identity>true</identity>
                    </field>
                </fields>
                <queries>
                    <query id="allforgalleryandcategory">
                        <querystring>gallery=? and category=?</querystring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>category</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgallery">
                        <querystring>gallery=?</querystring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                    <query id="allforgalleryandpicture">
                        <querystring>gallery=? and picture=?</querystring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                            <field id="2">
                                <field>picture</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                </queries>
            </data>
        </entity>
        <entity id="categorymembership">
            <class>erland.webapp.gallery.gallery.category.CategoryMembership</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/gallery</datasource>
                <table>categorymembers</table>
                <fields>
                    <field id="category">
                        <column>category</column>
                        <type>Integer</type>
                        <identity>true</identity>
                    </field>
                    <field id="gallery">
                        <column>gallery</column>
                        <type>Integer</type>
                        <identity>true</identity>
                    </field>
                    <field id="memberCategory">
                        <column>member</column>
                        <type>Integer</type>
                        <identity>true</identity>
                    </field>
                </fields>
                <queries>
                    <query id="allforgallery">
                        <querystring>gallery=?</querystring>
                        <fields>
                            <field id="1">
                                <field>gallery</field>
                                <type>Integer</type>
                            </field>
                        </fields>
                    </query>
                </queries>
            </data>
        </entity>
        <entity id="metadatafielddescription">
            <class>erland.webapp.gallery.DescriptionTag</class>
            <data id="storage">
                <class>erland.webapp.common.GenericEntityStorage</class>
                <name>sql</name>
            </data>
            <data id="sql">
                <datasource>jdbc/gallery</datasource>
                <table>descriptiontags</table>
                <fields>
                    <field id="type">
                        <column>type</column>
                        <type>String</type>
                        <identity>true</identity>
                    </field>
                    <field id="tag">
                        <column>tag</column>
                        <type>String</type>
                        <identity>true</identity>
                    </field>
                    <field id="description">
                        <column>description</column>
                        <type>String</type>
                    </field>
                </fields>
                <queries>
                    <query id="allfortype">
                        <querystring>type=?</querystring>
                        <fields>
                            <field id="1">
                                <field>type</field>
                                <type>String</type>
                            </field>
                        </fields>
                    </query>
                </queries>
            </data>
        </entity>
    </entities>
    <pages>
        <page id="login">
            <page id="success">
                <forward>portal?do=home</forward>
                <page id="main">index.jsp</page>
                <page id="header">welcome.jsp</page>
            </page>
            <page id="failure">
                <forward>portal?do=default</forward>
            </page>
        </page>
        <page id="logout">
            <forward>portal?do=default</forward>
        </page>
        <page id="removeuseraccount">
            <forward>portal?do=home</forward>
        </page>
        <page id="viewuseraccount">
            <page>edituseraccount.jsp</page>
        </page>
        <page id="viewwelcometext">
            <page>viewwelcometext.jsp</page>
        </page>
        <page id="edituseraccount">
            <forward>portal?do=home</forward>
        </page>
        <page id="searchofficialuseraccounts">
            <page>login.jsp</page>
        </page>
        <page id="searchuseraccounts">
            <page>viewuseraccounts.jsp</page>
        </page>
        <page id="newuseraccount">
            <page id="success">
                <page>newuseraccountsuccess.jsp</page>
            </page>
            <page id="failure">
                <page>newuseraccount.jsp</page>
            </page>
        </page>
        <page id="registernewuseraccount">
            <page>newuseraccount.jsp</page>
        </page>
        <page id="newgallery">
            <page>editgallery.jsp</page>
        </page>
        <page id="editgallery">
            <forward>portal?do=searchgalleries</forward>
        </page>
        <page id="removegallery">
            <forward>portal?do=searchgalleries</forward>
        </page>
        <page id="newpicture">
            <page>editpicture.jsp</page>
        </page>
        <page id="editpicture">
            <forward>portal?do=searchgalleryentries&amp;start=0&amp;max=9</forward>
        </page>
        <page id="removepicture">
            <forward>portal?do=searchgalleryentries&amp;start=0&amp;max=9</forward>
        </page>
        <page id="chooseimport">
            <page>importgallery.jsp</page>
        </page>
        <page id="importgallery">
            <forward>portal?do=searchgalleryentries&amp;start=0&amp;max=9</forward>
        </page>
        <page id="editcategory">
            <forward>portal?do=searchgalleryentries&amp;start=0&amp;max=9</forward>
        </page>
        <page id="updatecategory">
            <page>editcategory.jsp</page>
        </page>
        <page id="searchcategories">
            <forward>portal?do=searchgalleryentries</forward>
        </page>
        <page id="searchcategoriesguest">
            <forward>portal?do=searchgalleryentriesguest</forward>
        </page>
        <page id="searchgalleryentries">
            <page>viewgallery.jsp</page>
        </page>
        <page id="searchgalleryentriesguest">
            <page>viewgalleryguest.jsp</page>
        </page>
        <page id="searchgalleryentriesviewpicture">
            <forward>portal?do=viewpicture&amp;image={firstimage}</forward>
        </page>
        <page id="searchgalleryentriesguestviewpicture">
            <forward>portal?do=viewpicture&amp;image={firstimage}</forward>
        </page>
        <page id="searchstorages">
            <page>viewstorages.jsp</page>
        </page>
        <page id="newstorage">
            <page>editstorage.jsp</page>
        </page>
        <page id="editstorage">
            <forward>portal?do=searchstorages</forward>
        </page>
        <page id="removegallery">
            <forward>portal?do=searchstorages</forward>
        </page>
        <page id="newsearchgalleryentriesadvanced">
            <page>editsearch.jsp</page>
        </page>
        <page id="newsearchgalleryentriesadvancedguest">
            <page>editsearchguest.jsp</page>
        </page>
        <page id="searchgalleryentriesadvanced">
            <page>viewgallery.jsp</page>
        </page>
        <page id="searchgalleryentriesadvancedguest">
            <page>viewgalleryguest.jsp</page>
        </page>
        <page id="searchgalleryentriesadvancedviewpicture">
            <forward>portal?do=viewpicture&amp;image={firstimage}</forward>
        </page>
        <page id="searchgalleryentriesadvancedguestviewpicture">
            <forward>portal?do=viewpicture&amp;image={firstimage}</forward>
        </page>
        <page id="viewpicture">
            <page>viewpicture.jsp</page>
        </page>
        <page id="searchgalleriesviewdefaultgallery">
            <forward>portal?do=searchcategories&amp;start=0&amp;max=9</forward>
        </page>
        <page id="searchgalleriesguestviewdefaultgallery">
            <forward>portal?do=searchcategoriesguest&amp;start=0&amp;max=9</forward>
        </page>
        <page id="searchgalleries">
            <forward>portal?do=viewwelcometext</forward>
        </page>
        <page id="viewdefaultgallery">
            <page id="withdefaultgallery">
                <forward>portal?do=searchgalleriesviewdefaultgallery&amp;gallery={defaultgallery}</forward>
            </page>
            <page id="withoutdefaultgallery">
                <forward>portal?do=viewwelcometext&amp;withdifferentpages=0</forward>
            </page>
        </page>
        <page id="viewdefaultgalleryguest">
            <page id="withdefaultgallery">
                <forward>portal?do=searchgalleriesguestviewdefaultgallery&amp;gallery={defaultgallery}</forward>
            </page>
            <page id="withoutdefaultgallery">
                <forward>portal?do=viewwelcometext&amp;withdifferentpages=0</forward>
            </page>
        </page>
        <page id="editguestaccount">
            <forward>portal?do=searchguestaccounts</forward>
        </page>
        <page id="removeguestaccount">
            <forward>portal?do=searchguestaccounts</forward>
        </page>
        <page id="searchguestaccounts">
            <page>viewguestaccounts.jsp</page>
        </page>
        <page id="newguestaccount">
            <page>newguestaccount.jsp</page>
        </page>
        <page id="loginasguest">
            <page>loginguest.jsp</page>
        </page>
        <page id="loginguest">
            <page id="success">
                <forward>portal?do=home</forward>
            </page>
        </page>
        <page id="logoutguest">
            <forward>portal?do=home</forward>
        </page>
        <page id="home">
            <page id="user">
                <forward>portal?do=viewdefaultgallery&amp;withdifferentpages=1</forward>
                <page id="menu">menu.jsp</page>
            </page>
            <page id="guest">
                <forward>portal?do=viewdefaultgalleryguest&amp;withdifferentpages=1</forward>
                <page id="main">index.jsp</page>
                <page id="header">welcomeguest.jsp</page>
                <page id="menu">menuguest.jsp</page>
            </page>
            <page id="none">
                <forward>portal?do=default</forward>
            </page>
        </page>
        <page id="default">
            <forward>portal?do=searchofficialuseraccounts</forward>
            <page id="main">index.jsp</page>
            <page id="header">welcomelogin.jsp</page>
            <page id="menu"/>
        </page>
        <page id="accessdenied">
            <page>accessdenied.jsp</page>
        </page>
        <page id="notallowed">
            <forward>portal?do=default</forward>
        </page>
        <page id="error">
            <page>error.jsp</page>
        </page>
    </pages>
    <data id="thumbnail">
        <directory id="cache">D:\users\erland\thumbnails</directory>
    </data>
</resources>